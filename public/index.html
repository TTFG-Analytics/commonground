<!DOCTYPE html>
<html>
<head>
  <title>CommonGround</title>
</head>
<body>

<h4>Everything below mimics what our facebook authentication should pull. Optional data will be requested from user in settings profile. This can be seen in the post request on route "/import".</h4>

  <form class="user-fetcher">
    <h1>USER AUTH</h1>
    <h4>name:</h4>
    <input id="name" type="text" name="name" />
    <h4>age:</h4>
    <input id="age" type="text" name="age" />
    <h4>hometown:</h4>
    <input id="hometown" type="text" name="hometown" />
    <h4>gender:</h4>
    <input id="gender" type="text" name="gender" />
    <h4>race:</h4>
    <input id="race" type="text" name="race" />
    <h4>occupation:</h4>
    <input id="occupation" type="text" name="occupation" />
    <h4>politicalleaning:</h4>
    <input id="politicalleaning" type="text" name="politicalleaning" />
    <h4>religion:</h4>
    <input id="religion" type="text" name="religion" />
    <h4>yearlyincome:</h4>
    <input id="yearlyincome" type="text" name="yearlyincome" />

    <button type="submit">SUBMIT USER</button>
  </form>

<h4>Input below mimics a user creating a discussion topic. This can be seen in the post request on route "/discuss".</h4>

  <form class="create-discussion">
    <h1>CREATE DISCUSSION</h1>
    <h4>discussinput:</h4>
    <input id="discussinput" type="text" name="discussinput" />

    <button type="submit">SUBMIT DISCUSSION</button>
  </form>



<script src="https://code.jquery.com/jquery-2.2.0.js"></script>
<script>

$('.user-fetcher').submit(function(e) {
  var user = {
    name: document.getElementById("name").value,
    age: document.getElementById("age").value,
    hometown: document.getElementById("hometown").value,
    gender: document.getElementById("gender").value,
    race: document.getElementById("race").value,
    occupation: document.getElementById("occupation").value,
    politicalleaning: document.getElementById("politicalleaning").value,
    religion: document.getElementById("religion").value,
    yearlyincome: document.getElementById("yearlyincome").value,
  }
  e.preventDefault();

  console.log("The user data is: ", user);

  $.ajax({
    url: '/import',
    type: 'POST',
    data: user,
    success: function(data) {
      console.log("data from server: ", data);
    },
    error: function(error){
      console.error("There was an error on: ", error);
    }
  })
})

$('.create-discussion').submit(function(e) {
  var discussinput = {
    topic: document.getElementById("discussinput").value
  }
  e.preventDefault();

  console.log("The topic data is: ", discussinput);


  $.ajax({
    url: '/discuss',
    type: 'POST',
    data: discussinput,
    success: function(data) {
      console.log("data from server: ", data);
    },
    error: function(error){
      console.error("There was an error on: ", error);
    }
  })
})


</script>


</body>
</html>
